<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Nebula Graph"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@NebulaGraph"><meta name=twitter:creator content="@NebulaGraph"><meta name=twitter:domain content="nebula-graph.io"><meta name=twitter:title content="The Review on Graph Database"><meta property="twitter:title" content="The Review on Graph Database"><meta name=twitter:description content="This post will discuss the ideas and considerations behind graph databases such as their use cases, advantages and the trends behind this database model with several real-world case example."><meta name=og:description content="This post will discuss the ideas and considerations behind graph databases such as their use cases, advantages and the trends behind this database model with several real-world case example."><meta name=twitter:image content="/nebula-website/en/posts/review-on-graph-databases/Medium%2002_hu3bf1237a5b61d60e5ef4eb5bdc829bf4_573246_600x0_resize_box_2.png"><meta name=og:image content="/nebula-website/en/posts/review-on-graph-databases/Medium%2002_hu3bf1237a5b61d60e5ef4eb5bdc829bf4_573246_600x0_resize_box_2.png"><meta name=description content="This post will discuss the ideas and considerations behind graph databases such as their use cases, advantages and the trends behind this database model with several real-world case example."><meta name=generator content="Hugo 0.65.3"><title>The Review on Graph Database</title><link rel="shortcut icon" href=/nebula-website/favicon.ico><link rel=stylesheet href=/nebula-website/css/bootstrap.min.css type=text/css><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel=stylesheet type=text/css><link href="//fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic" rel=stylesheet type=text/css><link rel=stylesheet href=/nebula-website/font-awesome/css/font-awesome.min.css type=text/css><link rel=stylesheet href=/nebula-website/css/creative.css type=text/css><link rel=stylesheet href=/nebula-website/css/modals.css type=text/css><link rel=stylesheet href=/nebula-website/css/animate.min.css type=text/css><link rel=stylesheet href=/nebula-website/css/custom/index.css type=text/css><!--[if lt IE 9]><script src=https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js></script><script src=https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js></script><![endif]--><script src=/nebula-website/js/jquery.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-60523578-5"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-60523578-5');</script></head><body id=page-top><nav id=mainNav class="navbar navbar-default navbar-fixed-top"><div class=nav-popup id=nav-popup><img src=/images/popup.png><img src=/images/popup.png> Nebula Graph RC4 is released! <a href=https://github.com/vesoft-inc/nebula/releases/tag/v1.0.0-rc4 target=_blank>Get Started</a> <img src=/images/shut.png id=shut onclick=shut()></div><div class=container-fluid><div class=navbar-header><div class=github-star><a class=github-button href=https://github.com/vesoft-inc/nebula data-icon=octicon-star data-show-count=true aria-label="Star vesoft-inc/nebula on GitHub">Star</a></div><button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target=#bs-example-navbar-collapse-1>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button>
<a class="navbar-brand page-scroll" href=/nebula-website/en/></a></div><div class="collapse navbar-collapse" id=bs-example-navbar-collapse-1><ul class="nav navbar-nav" id=nav><li class=github-star id=github-star><a class=github-button href=https://github.com/vesoft-inc/nebula data-size=large data-show-count=true aria-label="Star vesoft-inc/nebula on GitHub">Star</a></li><li><a href=https://docs.nebula-graph.io/ target=_blank>Docs</a></li><li class=active><a href=/en/posts target>Blog</a></li><li><a href=https://discuss.nebula-graph.io/ target=_blank>Forum</a></li><li><a href=#contact_us target onclick=contactUsClick()>Contact Us</a></li><li class="dropdown navbar-right"><a class=dropdown-toggle data-toggle=dropdown href=# role=button aria-haspopup=true aria-expanded=false><img src=/images/language120x120.png>
<span class=caret></span></a><ul class=dropdown-menu><li class=nav-item><a class=dropdown-item href=/en target>English</a></li><li class=nav-item><a class=dropdown-item href=/cn target>中文</a></li></ul></li><li id=navbar-right><a href=https://github.com/vesoft-inc/nebula-web-docker target=_blank>Nebula Studio</a></li></ul></div></div></nav><script>function contactUsClick(){$('html,body').animate({scrollTop:document.documentElement.scrollHeight},800)
return false;}
function shut(){$('#nav-popup').remove();$("#top").css("padding-top","50px")
sessionStorage.setItem("popupIsRemove",true);}
if(!sessionStorage.getItem("popupIsRemove")){$("#nav-popup").css("display","block")}</script><main id=top class=blog-detail><div class=wrapper><div class=inner><div class=blog-left-aside><div class=social-share id=J_Share><h3>Share Post</h3><div class=nebula-share-buttons><div class="st-custom-button st-remove-label" data-network=twitter><img alt="twitter-white sharing button" src=https://platform-cdn.sharethis.com/img/twitter-white.svg></div><div class="st-custom-button st-remove-label" data-network=linkedin><img alt="linkedin-white sharing button" src=https://platform-cdn.sharethis.com/img/linkedin-white.svg></div><div class="st-custom-button st-remove-label" data-network=facebook><img alt="facebook-white sharing button" src=https://platform-cdn.sharethis.com/img/facebook-white.svg></div><div class="st-custom-button st-remove-label" data-network=hackernews><img alt="hackernews-white sharing button" src=https://platform-cdn.sharethis.com/img/hackernews-white.svg></div><div class="st-custom-button st-remove-label" data-network=reddit><img alt="reddit-white sharing button" src=https://platform-cdn.sharethis.com/img/reddit-white.svg></div><div class="st-custom-button st-remove-label" data-network=sharethis><img alt="reddit-white sharing button" src=https://platform-cdn.sharethis.com/img/sharethis-white.svg></div></div></div></div><section class=blog-content><h1>The Review on Graph Database</h1><div class=blog-metas><div class=meta><img src=/images/writer.png width=16px height=16px>
<span>Johhan</span></div><div class=meta><img src=/images/calendar.png width=16px height=16px>
<span>2020-03-31</span></div><div class="tags meta"><img src=/images/tag.png width=16px height=16px>
<a href=/nebula-website/en//tags/graph-database>graph-database</a><a href=/nebula-website/en//tags/query-language>query-language</a></div></div><p><img src=https://user-images.githubusercontent.com/38887077/78017429-db449580-737e-11ea-952b-4ceb7169fb82.png alt=review></p><blockquote><p>This post will discuss the ideas and considerations behind graph databases such as their use cases, advantages and the trends behind this database model with several real-world case example.</p></blockquote><h2 id=a-social-network-scenario>A Social Network Scenario</h2><p>Considering a social network scenario shown below, User can post, share their tweets or comment on other people or advertisers&rsquo; tweets, follow each other. It is essential for a data-driven company to use basic CRUD(Create, Read, Update, Delete) operations to add more people, add new messages to the current database or find associated information, help company to figure out certain user&rsquo;s User portrait just like Jeff has many posts relating to AI and music thus we may suppose him a programmer etc.</p><p><img src=https://user-images.githubusercontent.com/38887077/78017555-08914380-737f-11ea-8b2a-26af16f0d785.png alt=review01></p><p>It is some basic types of database operations. Sometimes the requirements for one analysis can be extremely tricky such as <strong>Find all direct reports from employees and count the number of reports up to 3 levels down [1]</strong>. Such an analytic problem is not purposely designed to create obstructions for data engineers, those things are quite common in current era of distributed computing.</p><h2 id=traditional-ways-to-solve-the-question-posted-above>Traditional Ways to Solve the Question Posted Above</h2><h3 id=data-model-schemes-and-traditional-queries>Data model schemes and traditional queries</h3><p>The traditional way to solve the problem is to build a relational data model for every user and store those relations in several tables in a Relational database such as MySQL and so on.</p><p>The basic relational schema is shown below.</p><p><img src=https://user-images.githubusercontent.com/38887077/78017559-0929da00-737f-11ea-838b-8da21a64e11b.png alt=review02></p><p>If we want to implement the query as the question listed above, it is inevitable that there will be a huge amount of JOIN and the length of query can be extremely long. <strong>[1]</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql>(<span style=color:#66d9ef>SELECT</span> T.directReportees <span style=color:#66d9ef>AS</span> directReportees, <span style=color:#66d9ef>sum</span>(T.<span style=color:#66d9ef>count</span>) <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>count</span>
<span style=color:#66d9ef>FROM</span> (
<span style=color:#66d9ef>SELECT</span> manager.pid <span style=color:#66d9ef>AS</span> directReportees, <span style=color:#ae81ff>0</span> <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>count</span>
	<span style=color:#66d9ef>FROM</span> person_reportee manager
	<span style=color:#66d9ef>WHERE</span> manager.pid <span style=color:#f92672>=</span> (<span style=color:#66d9ef>SELECT</span> id <span style=color:#66d9ef>FROM</span> person <span style=color:#66d9ef>WHERE</span> name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;fName lName&#34;</span>)
<span style=color:#66d9ef>UNION</span>
	<span style=color:#66d9ef>SELECT</span> manager.pid <span style=color:#66d9ef>AS</span> directReportees, <span style=color:#66d9ef>count</span>(manager.directly_manages) <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>count</span>
<span style=color:#66d9ef>FROM</span> person_reportee manager
<span style=color:#66d9ef>WHERE</span> manager.pid <span style=color:#f92672>=</span> (<span style=color:#66d9ef>SELECT</span> id <span style=color:#66d9ef>FROM</span> person <span style=color:#66d9ef>WHERE</span> name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;fName lName&#34;</span>)
<span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> directReportees
<span style=color:#66d9ef>UNION</span>
<span style=color:#66d9ef>SELECT</span> manager.pid <span style=color:#66d9ef>AS</span> directReportees, <span style=color:#66d9ef>count</span>(reportee.directly_manages) <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>count</span>
<span style=color:#66d9ef>FROM</span> person_reportee manager
<span style=color:#66d9ef>JOIN</span> person_reportee reportee
<span style=color:#66d9ef>ON</span> manager.directly_manages <span style=color:#f92672>=</span> reportee.pid
<span style=color:#66d9ef>WHERE</span> manager.pid <span style=color:#f92672>=</span> (<span style=color:#66d9ef>SELECT</span> id <span style=color:#66d9ef>FROM</span> person <span style=color:#66d9ef>WHERE</span> name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;fName lName&#34;</span>)
<span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> directReportees
<span style=color:#66d9ef>UNION</span>
<span style=color:#66d9ef>SELECT</span> manager.pid <span style=color:#66d9ef>AS</span> directReportees, <span style=color:#66d9ef>count</span>(L2Reportees.directly_manages) <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>count</span>
<span style=color:#66d9ef>FROM</span> person_reportee manager
<span style=color:#66d9ef>JOIN</span> person_reportee L1Reportees
<span style=color:#66d9ef>ON</span> manager.directly_manages <span style=color:#f92672>=</span> L1Reportees.pid
<span style=color:#66d9ef>JOIN</span> person_reportee L2Reportees
<span style=color:#66d9ef>ON</span> L1Reportees.directly_manages <span style=color:#f92672>=</span> L2Reportees.pid
<span style=color:#66d9ef>WHERE</span> manager.pid <span style=color:#f92672>=</span> (<span style=color:#66d9ef>SELECT</span> id <span style=color:#66d9ef>FROM</span> person <span style=color:#66d9ef>WHERE</span> name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;fName lName&#34;</span>)
<span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> directReportees
) <span style=color:#66d9ef>AS</span> T
<span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> directReportees)
<span style=color:#66d9ef>UNION</span>
(<span style=color:#66d9ef>SELECT</span> T.directReportees <span style=color:#66d9ef>AS</span> directReportees, <span style=color:#66d9ef>sum</span>(T.<span style=color:#66d9ef>count</span>) <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>count</span>
<span style=color:#66d9ef>FROM</span> (
<span style=color:#66d9ef>SELECT</span> manager.directly_manages <span style=color:#66d9ef>AS</span> directReportees, <span style=color:#ae81ff>0</span> <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>count</span>
<span style=color:#66d9ef>FROM</span> person_reportee manager
<span style=color:#66d9ef>WHERE</span> manager.pid <span style=color:#f92672>=</span> (<span style=color:#66d9ef>SELECT</span> id <span style=color:#66d9ef>FROM</span> person <span style=color:#66d9ef>WHERE</span> name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;fName lName&#34;</span>)
<span style=color:#66d9ef>UNION</span>
<span style=color:#66d9ef>SELECT</span> reportee.pid <span style=color:#66d9ef>AS</span> directReportees, <span style=color:#66d9ef>count</span>(reportee.directly_manages) <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>count</span>
<span style=color:#66d9ef>FROM</span> person_reportee manager
<span style=color:#66d9ef>JOIN</span> person_reportee reportee
<span style=color:#66d9ef>ON</span> manager.directly_manages <span style=color:#f92672>=</span> reportee.pid
<span style=color:#66d9ef>WHERE</span> manager.pid <span style=color:#f92672>=</span> (<span style=color:#66d9ef>SELECT</span> id <span style=color:#66d9ef>FROM</span> person <span style=color:#66d9ef>WHERE</span> name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;fName lName&#34;</span>)
<span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> directReportees
<span style=color:#66d9ef>UNION</span>
<span style=color:#66d9ef>SELECT</span> depth1Reportees.pid <span style=color:#66d9ef>AS</span> directReportees,
<span style=color:#66d9ef>count</span>(depth2Reportees.directly_manages) <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>count</span>
<span style=color:#66d9ef>FROM</span> person_reportee manager
<span style=color:#66d9ef>JOIN</span> person_reportee L1Reportees
<span style=color:#66d9ef>ON</span> manager.directly_manages <span style=color:#f92672>=</span> L1Reportees.pid
<span style=color:#66d9ef>JOIN</span> person_reportee L2Reportees
<span style=color:#66d9ef>ON</span> L1Reportees.directly_manages <span style=color:#f92672>=</span> L2Reportees.pid
<span style=color:#66d9ef>WHERE</span> manager.pid <span style=color:#f92672>=</span> (<span style=color:#66d9ef>SELECT</span> id <span style=color:#66d9ef>FROM</span> person <span style=color:#66d9ef>WHERE</span> name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;fName lName&#34;</span>)
<span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> directReportees
) <span style=color:#66d9ef>AS</span> T
<span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> directReportees)
<span style=color:#66d9ef>UNION</span>
(<span style=color:#66d9ef>SELECT</span> T.directReportees <span style=color:#66d9ef>AS</span> directReportees, <span style=color:#66d9ef>sum</span>(T.<span style=color:#66d9ef>count</span>) <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>count</span>
	<span style=color:#66d9ef>FROM</span>(
	<span style=color:#66d9ef>SELECT</span> reportee.directly_manages <span style=color:#66d9ef>AS</span> directReportees, <span style=color:#ae81ff>0</span> <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>count</span>
<span style=color:#66d9ef>FROM</span> person_reportee manager
<span style=color:#66d9ef>JOIN</span> person_reportee reportee
<span style=color:#66d9ef>ON</span> manager.directly_manages <span style=color:#f92672>=</span> reportee.pid
<span style=color:#66d9ef>WHERE</span> manager.pid <span style=color:#f92672>=</span> (<span style=color:#66d9ef>SELECT</span> id <span style=color:#66d9ef>FROM</span> person <span style=color:#66d9ef>WHERE</span> name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;fName lName&#34;</span>)
<span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> directReportees
<span style=color:#66d9ef>UNION</span>
<span style=color:#66d9ef>SELECT</span> L2Reportees.pid <span style=color:#66d9ef>AS</span> directReportees, <span style=color:#66d9ef>count</span>(L2Reportees.directly_manages) <span style=color:#66d9ef>AS</span>
<span style=color:#66d9ef>count</span>
<span style=color:#66d9ef>FROM</span> person_reportee manager
<span style=color:#66d9ef>JOIN</span> person_reportee L1Reportees
<span style=color:#66d9ef>ON</span> manager.directly_manages <span style=color:#f92672>=</span> L1Reportees.pid
<span style=color:#66d9ef>JOIN</span> person_reportee L2Reportees
<span style=color:#66d9ef>ON</span> L1Reportees.directly_manages <span style=color:#f92672>=</span> L2Reportees.pid
<span style=color:#66d9ef>WHERE</span> manager.pid <span style=color:#f92672>=</span> (<span style=color:#66d9ef>SELECT</span> id <span style=color:#66d9ef>FROM</span> person <span style=color:#66d9ef>WHERE</span> name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;fName lName&#34;</span>)
<span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> directReportees
) <span style=color:#66d9ef>AS</span> T
<span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> directReportees)
<span style=color:#66d9ef>UNION</span>
(<span style=color:#66d9ef>SELECT</span> L2Reportees.directly_manages <span style=color:#66d9ef>AS</span> directReportees, <span style=color:#ae81ff>0</span> <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>count</span>
<span style=color:#66d9ef>FROM</span> person_reportee manager
<span style=color:#66d9ef>JOIN</span> person_reportee L1Reportees
<span style=color:#66d9ef>ON</span> manager.directly_manages <span style=color:#f92672>=</span> L1Reportees.pid
<span style=color:#66d9ef>JOIN</span> person_reportee L2Reportees
<span style=color:#66d9ef>ON</span> L1Reportees.directly_manages <span style=color:#f92672>=</span> L2Reportees.pid
<span style=color:#66d9ef>WHERE</span> manager.pid <span style=color:#f92672>=</span> (<span style=color:#66d9ef>SELECT</span> id <span style=color:#66d9ef>FROM</span> person <span style=color:#66d9ef>WHERE</span> name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;fName lName&#34;</span>)
)
</code></pre></div><p>I think that nobody has the patience to write such a huge amount SQL language for those analytic problems. It will also become a hell for debugging. The more serious problem is performance issues such a huge SQL language could potentially have.</p><h3 id=performance-issues-in-traditional-rdbms>Performance issues in traditional RDBMS</h3><p><strong>The most essential issue relating to such query comes from the size of the problem we faced in current era which is the scaling issues relating to the nature of huge social network associations.</strong></p><p>The relation between users to users, users to items or items to items go exponentially.</p><p>Here are some basic facts: Twitter with A following B relationship has 500 millions users, Amazon with A buying B relationship has 120 million Users , AT&T cellphone network has who-call-whom relationship with 100 million users and so on. <strong>[2]</strong></p><p>The open source graph benchmarking has <strong>billions of nodes and edge</strong>s listed below with O(TB) or even O(PB) amount of data: <strong>[3]</strong></p><table><thead><tr><th>Graph</th><th>Nodes</th><th>Edges</th></tr></thead><tbody><tr><td>YahooWeb</td><td>1.4 Billion</td><td>6 Billion</td></tr><tr><td>Symantec Machine-File Graph</td><td>1 Billion</td><td>37 Billion</td></tr><tr><td>Twitter</td><td>104 Million</td><td>3.7 Billion</td></tr><tr><td>Phone call network</td><td>30 Million</td><td>260 Million</td></tr></tbody></table><p>With such a big table challenge normal SQL operation can cause huge penalty on query performances:<strong>[4]</strong></p><ol><li><strong>JOIN operations.</strong> As we see in the query language above, a huge number of JOIN operations are used to find the exact result we want. However, join-intensive query performance deteriorates as the dataset gets bigger. That is because of the spatial localization in the essence of our data which is only a small proportional under the whole dataset but the JOIN operation intent to traverse through the whole dataset which is unacceptable.</li><li><strong>Reciprocal queries cost much as you thought</strong>. Here the cost of subordinate employees ruled by certain manager has few costs, however, if we do query reversely, such as get the manager of certain people which will introduce prohibitively high expense to the reversed one. It may not be an issue for current problem, but if we change the relationship from manager-employee to customer-products, it will make one recommendation system stay in stale.</li></ol><p>One unofficial benchmarking listed in here as we can see as level go up, the cost of this operation rise exponentially (based on a social network containing 1,000,000 people with approximately 50 friends for each one):<strong>[4]</strong></p><table><thead><tr><th>levels</th><th>RDBMS execution time(s)</th></tr></thead><tbody><tr><td>2</td><td>0.016</td></tr><tr><td>3</td><td>30.267</td></tr><tr><td>4</td><td>1543.595</td></tr></tbody></table><h3 id=performance-fine-tuning-with-indexing-or-caching-and-why-it-is-not-the-best-practice>Performance fine-tuning with indexing or caching and why it is not the best practice.</h3><p><strong>Indexing</strong> is to help SQL engine find and acquire data efficiently</p><p>Using indexing such as B-tree indexing or hash indexing is one way to solve the performance costs in table join operation, for example, we can create a unique id for every person and B-tree which is a balanced tree will sort all items by their unique id which is perfect for range query and the cost for find curtain item can be limited to O(logN) where N is the number of indexed items.</p><p>But indexing is not a panacea for all situations. If items update frequently or have many repeated items, the indexing will attend to perform a huge number of space overhead due to indexing.</p><p>Plus, disk IO in a large HDD disk will be critical for JOIN operations, even if one seek operation costs a few milliseconds, and one B-tree indexing just need 4 seek operations to traverse the whole indexing table, but once the JOIN operations become larger, seek operations need to happen hundreds of times.</p><p><strong>Caching</strong> is designed to use the essence of <strong>spatial locality</strong> of dataset for read intensive analytic scenario.</p><p>It is a widely used architecture named <strong>lookaside cache architecture</strong>. Here is a simple demo with memcached and MySQL which is used in Facebook before the introducing of graph database: <strong>[5]</strong></p><p><img src=https://user-images.githubusercontent.com/38887077/78017564-0a5b0700-737f-11ea-8361-7b6f23e1268e.png alt=review03></p><p>The assumption behind the architecture is that the user consumes much more contents than they create, thus using memcached which serve just like hashtable with CRUD operations can serve as a building block and process billions of requests per second.</p><p>The basic workflow is that when a web server needs data, it first request on cache and if it is not cached, it will look for SQL database, and for write requests, client will delete key in memcached which put the data in stale and then update database.<strong>[5]</strong></p><p>However, such an architecture will introduce several fundamental problems:<strong>[6]</strong></p><p>Firstly, key-value cache is not a good semantic for graph operations, look-ahead architecture will require the queries fetch the entire edge and changes to a single edge require the entire list to be reloaded because they deleted before, this is the bottleneck for concurrency performance. As in facebook the connected components have thousands of connections in average and such an operation costs a lot of time and memory.</p><p>Secondly, visibility of updated data needs inter-regional communication because of the asynchronous master/slave replication for MySQL. The original model uses something called remote markers to track staled keys and asynchronously forward read from those keys to the master region which needs many inter-regional communication.(just like travel from California to New York by walking)</p><h2 id=the-key-to-the-solution-is-modeling-data-through-graphs>The Key to the Solution is Modeling Data Through Graphs</h2><h3 id=lacking-relationships-is-the-key-failure-of-other-kinds-of-database-modeling-4>Lacking relationships is the key failure of other kinds of database modeling [4]</h3><p>Relational database works well if data is in codify paper forms and tabular structures. However, if we want to model the ad hoc relationships that will crop up in the real world, the RDBMS can handle them poorly.</p><p>As we discussed above, the relational data model become burden with a very large of join tables with sparse populated rows where there are billions of different tables across databases. With the growth of dataset and the increased number of JOIN operations which greatly impede the performance of existing RDBMS and exactly not fit current business requirements.</p><p>Dealing with recursive queries such as the manager&rsquo;s subordinates&rsquo; report number can perform badly due to the computational and space complexity of recursively joining tables.</p><h3 id=nodes-associations-and-graph-modeling>Nodes, associations and graph modeling</h3><p>As we mentioned above, it is true that traditional databases have implicit graph connections between different schemas, but as we analyze the semantic dependencies such as A controls B, A buys B, as the data model defined, we need to check on the data table and are <strong>blind to these connections</strong>.</p><p>If we want to make the connections visible before check on the node, we need to define objects and their connections separately.</p><p>The key difference between graph databases and other databases is to <strong>represent nodes and paths separately</strong>. For example, we can represent people, or manager as separate nodes. Associations capture the users&rsquo; friendships, belongings&rsquo;, authorship of the checkin and comments and the binding between the checkin and its location and comments.</p><p>We can add new nodes and new associations in a flexible way without compromising the existing network or migrating data (original data remains stateless.)</p><p>Based on this modeling technique, we can model the original social network problem in this way:</p><p><img src=https://user-images.githubusercontent.com/38887077/78017568-0af39d80-737f-11ea-8071-95b91ab21792.png alt=review04></p><p>Here we can construct nodes and their corresponding paths separately and build path as association in an obvious way.</p><p>Building the graph model in <a href=https://github.com/vesoft-inc/nebula/blob/master/docs/manual-EN/1.overview/1.concepts/2.nGQL-overview.md>nGQL</a> (graph query language developed by Nebula Graph) can be followed as here:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#75715e>-- Insert People
</span><span style=color:#75715e></span><span style=color:#66d9ef>INSERT</span> VERTEX person(ID, name) <span style=color:#66d9ef>VALUES</span> <span style=color:#ae81ff>1</span>:(<span style=color:#ae81ff>2020031601</span>, <span style=color:#960050;background-color:#1e0010>‘</span>Jeff<span style=color:#960050;background-color:#1e0010>’</span>);
<span style=color:#66d9ef>INSERT</span> VERTEX person(ID, name) <span style=color:#66d9ef>VALUES</span> <span style=color:#ae81ff>2</span>:(<span style=color:#ae81ff>2020031602</span>, <span style=color:#960050;background-color:#1e0010>‘</span>A<span style=color:#960050;background-color:#1e0010>’</span>);
<span style=color:#66d9ef>INSERT</span> VERTEX person(ID, name) <span style=color:#66d9ef>VALUES</span> <span style=color:#ae81ff>3</span>:(<span style=color:#ae81ff>2020031603</span>, <span style=color:#960050;background-color:#1e0010>‘</span>B<span style=color:#960050;background-color:#1e0010>’</span>);
<span style=color:#66d9ef>INSERT</span> VERTEX person(ID, name) <span style=color:#66d9ef>VALUES</span> <span style=color:#ae81ff>4</span>:(<span style=color:#ae81ff>2020031604</span>, <span style=color:#960050;background-color:#1e0010>‘</span><span style=color:#66d9ef>C</span><span style=color:#960050;background-color:#1e0010>’</span>);

<span style=color:#75715e>-- Insert edge
</span><span style=color:#75715e></span><span style=color:#66d9ef>INSERT</span> EDGE manage (level_s, level_end) <span style=color:#66d9ef>VALUES</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>-&gt;</span> <span style=color:#ae81ff>2</span>: (<span style=color:#e6db74>&#39;0&#39;</span><span style=color:#960050;background-color:#1e0010>，</span> <span style=color:#e6db74>&#39;1&#39;</span>)
<span style=color:#66d9ef>INSERT</span> EDGE manage (level_s, level_end) <span style=color:#66d9ef>VALUES</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>-&gt;</span> <span style=color:#ae81ff>3</span>: (<span style=color:#e6db74>&#39;0&#39;</span><span style=color:#960050;background-color:#1e0010>，</span> <span style=color:#e6db74>&#39;1&#39;</span>)
<span style=color:#66d9ef>INSERT</span> EDGE manage (level_s, level_end) <span style=color:#66d9ef>VALUES</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>-&gt;</span> <span style=color:#ae81ff>4</span>: (<span style=color:#e6db74>&#39;0&#39;</span><span style=color:#960050;background-color:#1e0010>，</span> <span style=color:#e6db74>&#39;1&#39;</span>)
</code></pre></div><p>And the query which we previously implemented with the extremely long SQL can be rewritten in an elegant way using <a href="https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=13&cad=rja&uact=8&ved=2ahUKEwi5-ZfEtfvnAhWSad4KHTDpClwQFjAMegQIBRAB&url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FCypher&usg=AOvVaw3rCtDns3Bbr5mIuBpSN4hr">Cypher</a> or nGQL.</p><p>Here is the simple nGQL version:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>GO</span> <span style=color:#66d9ef>FROM</span> <span style=color:#ae81ff>1</span> OVER manage YIELD manage.level_s <span style=color:#66d9ef>as</span> start_level, manage._dst <span style=color:#66d9ef>AS</span> personid
<span style=color:#f92672>|</span> <span style=color:#66d9ef>GO</span> <span style=color:#66d9ef>FROM</span> <span style=color:#960050;background-color:#1e0010>$</span>personid OVER manage <span style=color:#66d9ef>where</span> manage.level_s <span style=color:#f92672>&lt;</span> start_level <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>
YIELD <span style=color:#66d9ef>SUM</span>(<span style=color:#960050;background-color:#1e0010>$$</span>.person.id) <span style=color:#66d9ef>AS</span> TOTAL, <span style=color:#960050;background-color:#1e0010>$$</span>.person.name <span style=color:#66d9ef>AS</span> list
</code></pre></div><p>And the Cypher version is in here: [1]</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>MATCH</span> (boss)<span style=color:#f92672>-</span>[:MANAGES<span style=color:#f92672>*</span><span style=color:#ae81ff>0</span>..<span style=color:#ae81ff>3</span>]<span style=color:#f92672>-&gt;</span>(sub),
(sub)<span style=color:#f92672>-</span>[:MANAGES<span style=color:#f92672>*</span><span style=color:#ae81ff>1</span>..<span style=color:#ae81ff>3</span>]<span style=color:#f92672>-&gt;</span>(personid)
<span style=color:#66d9ef>WHERE</span> boss.name <span style=color:#f92672>=</span> <span style=color:#960050;background-color:#1e0010>“</span>Jeff<span style=color:#960050;background-color:#1e0010>”</span>
<span style=color:#66d9ef>RETURN</span> sub.name <span style=color:#66d9ef>AS</span> list, <span style=color:#66d9ef>count</span>(personid) <span style=color:#66d9ef>AS</span> Total
</code></pre></div><p>GQL greatly reduced the query length which is essential for performance and debugging. For a comparison among Cypher, Gremlin and nGQL, refer to <a href=https://nebula-graph.io/en/posts/graph-query-language-comparison-cypher-gremlin-ngql/>this post</a>.</p><h2 id=why-graph-databases-have-better-performance>Why Graph Databases Have Better Performance</h2><p>Graph databases have designed special optimizations for highly connected, unstructured data. Different kinds of graph databases have different implementations targeting for different scenarios.</p><p>Here we will introduce several different kinds of graph databases, all of them natively support graph modeling.</p><h3 id=neo4j-4>Neo4j [4]</h3><p>Neo4j is one of the best known graph database, and widely adopted in industry such as in eBay, Microsoft and so on.</p><h4 id=native-graph-processing>Native graph processing</h4><p>A graph database has native processing capabilities if it exhibits a property called <a href=https://en.wikipedia.org/wiki/Graph_database><strong>index-free adjacency</strong></a>. A database engine that utilizes index-free adjacency is one in which each node maintains direct reference to its adjacent nodes and each node will therefore act as a micro-index for other nearby nodes, which is much cheaper than using global indexes. It means that query times are independent of the total size of the graph, and are instead simply proportional to the amount of the graph searched.</p><p>In simple word, index-lookups could be O(logN) in algorithmic complexity versus O(1) for lookup immediately from key-value relationship and traverse m steps.</p><p>If we use index approach, it costs O(mlogn) which only costs O(m) with index-free adjacency solution.</p><p>As we discussed above, relational databases perform poorly when we move away from modestly sized JOIN operations which is mainly resulted from the number of index-lookups involved.</p><p>In contrast to relational databases, where join-intensive query performance deteriorates as the dataset gets bigger, with a graph database performance tends to remain relatively constant, even as the dataset grows. This is because queries are localized to a portion of the graph.</p><h3 id=in-memory-cache>In-memory cache</h3><p>At Neo4j 2.2, it uses an <a href=https://www.cs.cmu.edu/~christos/courses/721-resources/p297-o_neil.pdf>LRU-K page cache</a>. The page cache is an LRU-K page-affined cache, meaning the cache divides each store into discrete regions, and then holds a fixed number of regions per store file.</p><p>Pages are evicted from the cache based on a least frequently used (LFU) cache policy, nuanced by page popularity. That is, unpopular pages will be evicted from the cache in preference to popular pages, even if the latter haven&rsquo;t been touched recently. This policy ensures a statistically optimal use of caching resources.</p><h3 id=janus-graph-7>Janus Graph  [7]</h3><p><a href=https://janusgraph.org/>Janus Graph</a> itself does not focus on storage and analytics functionalities. The main purpose of this frame is to serve as a graph database engine which focuses on compact graph serialization, graph data modeling and efficient query execution.</p><p>Supporting robust modular interfaces for data persistence, data indexing and client access is the main purpose of this frame, it can be a preeminent solution for companies that just want to use graph modeling as their architecture solutions.</p><p>JanusGraph can use Cassandra, HBase and Berkeley DB as its storage adapter and using Elasticsearch, Solr or lucene for data indexing.</p><p>Broadly speaking, applications can interact with JanusGraph in two ways: </p><ul><li><p>Embed JanusGraph inside the application executing <a href=https://tinkerpop.apache.org/docs/3.4.4/reference#graph-traversal-steps>Gremlin</a> queries directly against the graph within the same JVM. Query execution, JanusGraph&rsquo;s caches, and transaction handling all happen in the same JVM as the application while data retrieval from the storage backend may be local or remote.</p></li><li><p>Interact with a local or remote JanusGraph instance by submitting Gremlin queries to the server. JanusGraph natively supports the Gremlin Server component of the <a href=https://tinkerpop.apache.org/>Apache TinkerPop</a> stack.</p></li></ul><p><img src=https://user-images.githubusercontent.com/38887077/78017571-0c24ca80-737f-11ea-970e-2f579546d7fc.png alt=review05></p><h3 id=nebula-graph-8>Nebula Graph [8]</h3><p>Here we listed several bird&rsquo;s view on the system design of <a href=https://nebula-graph.io>Nebula Graph</a> which is specially optimized for graph modeled data.</p><h4 id=key-value-store-graph-processing>Key value store graph processing</h4><p>Nebula graph adopted <code>vertexID + TagID</code> as key for local storage and store out-key and in-key separately in different location which support O(k) look up and partition ensures high availability in a large distributed cluster.</p><p>In contrary to other storage designs, Nebula natively support distributed partition or sharding, which greatly increased the processing speed and fault tolerant capability.</p><h4 id=shared-nothing-distributed-storage-layer>Shared-nothing distributed storage layer</h4><p>The help migrating data and provide modular level storage engine by using own kv store library, thus it supports storage service for third party kv store such as HBase and so on.</p><p>Nebula Graph manages the distributed kv store in a unified scheduling way with meta service. All the partition distribution data and current machine status can be found in the meta service. User can add or remove machines from console and execute balance plan. Plus Multi-cluster Raft group with atomic CAS and read-modify-write operation are fully used by raft serialization which enabled immediate consistency.</p><h4 id=stateless-query-layer>Stateless query layer</h4><p>As in the query layer, nGQL will be pared to Abstract Syntax Tree and be converted to LLVM IR, the IR code can be passed to execution planner for edge-level parallel execution and Just In Time execution.</p><p>Complied query will be stored and if user adopted the same query again, it will reuse the cached commands with no need for further parsing.</p><h2 id=graph-database-is-the-trend-and-that-is-not-just-my-opinion>Graph Database is the Trend and That is Not Just My Opinion</h2><p>For the current time, graph databases have already attracted many attentions made by analyzers and consulting companies:</p><blockquote><p>Graph analysis is possibly the single most effective competitive differentiator for organizations pursuing data-driven operations and decisions after the design of data capture. &mdash;&mdash;&mdash;&mdash;&ndash;Gartner</p></blockquote><blockquote><p>“Graph analysis is the true killer app for Big Data.” &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;Forrester</p></blockquote><p>The current trend of graph database is the highest based on <a href=https://db-engines.com/en/ranking_categories>db-engine ranking</a>:[9]</p><p><img src=https://user-images.githubusercontent.com/38887077/78017576-0d55f780-737f-11ea-9f97-5949094dd0bd.png alt=review06></p><h2 id=graph-database-with-more-than-social-network>Graph Database with More Than Social Network</h2><h3 id=netflix-cloud-database-engineering-10>Netflix Cloud Database engineering [10]:</h3><p><img src=https://user-images.githubusercontent.com/38887077/78017580-0e872480-737f-11ea-96d3-a94bec19fa81.png alt=review07></p><p>Netflix adopted JanusGraph + cassandra + elasticsearch as their graph database infrastructure.</p><p>The usage of graph database is in digital asset management. Entities such as Assets, Movie, Display Sets and so on are vertex, and all relations are edges.</p><p>The current stats is that there are 200 M nodes in PROD cluster, hundred queries and updates per minute, 70 asset types and test clusters with over 200 M nodes.</p><p>Plus, they also adopted graph database in authorization, distributed tracing, and visualize the netflix infra and relations like how code gets committed to stash, built on jenkins, deployed by spinnaker.</p><h3 id=adobe11>Adobe <strong>[11]</strong></h3><p>There is a prejudice to new coming technologies that such a technology may not suit for large company which may have many legacy systems and it do not make sense to take the risk to change from old stable system to new and unstable new technologies.</p><p>Adobe did some transfer from old NoSQL database Cassandra to Neo4j.</p><p>The overhauling system&rsquo;s name is Behance, which is a leading social media platform owned by Adobe and launched in 2005 which have more than 10 million members.</p><p>Here people can share their creative works to millions of daily visitors.</p><p><img src=https://user-images.githubusercontent.com/38887077/78017585-121aab80-737f-11ea-8562-fbce814b4a8f.png alt=review08></p><p>Such a large legacy system was built upon Mongodb and Cassandra and due to historical design problems, there are some daunting facts need to be fixed.</p><p>Mongo has very slow reads because of data model and Cassadra either because of the fan-outs design policies and large overhead in web infrastructure. Plus, Cassandra needs babysitting by a huge number of ops team. As the original infra shown below, fan-out to feed new project message to followers needs a huge number of writes which will hamper performance tremendously:</p><p><img src=https://user-images.githubusercontent.com/38887077/78017601-16df5f80-737f-11ea-884a-b568801b213f.png alt=review09></p><p>Here in order for flexible, efficient robust system with fast feed loading and minimal data storage, Adobe decided to migrate from original cassandra database to Graph database Neo4j.</p><p>The relationship here, separated one operation such as appreciation to different types of status such as enable to visit or not and so on named <strong>Tiered relationships</strong>.(btw, those status information supported by Nebula Graph with just one edge.)</p><p>Here is the data-model shown below:</p><p><img src=https://user-images.githubusercontent.com/38887077/78017605-18108c80-737f-11ea-8ac9-9676bdcac691.png alt=review10></p><p>By adopting a simple Leader-follower architecture shown below, a huge profit has been acquired:</p><p><img src=https://user-images.githubusercontent.com/38887077/78017609-1941b980-737f-11ea-914b-597261bccaf6.png alt=review11></p><p>In specific, by adopting graph database with master-slave architecture for fault tolerance, Adobe team acquired a huge number of performance improvement:<strong>[11]</strong></p><ol><li>Human maintenance hours down well over <strong>300%</strong> with Neo4j</li><li><strong>1/1000 storage required</strong> - 50GB with Neo4j vs 50TB with Cassandra</li><li>Simple: powered by 3 instances instead of 48</li><li>Easy extensibility thanks to clean graph data model</li></ol><h2 id=conclusion>Conclusion</h2><p>Graph database have many low hanging fruits for big data era. Using graph databases as a technical solution can promote not only the rise of new coming AI, IoT, 5G applications&rsquo; thriving, but also the reformation of old legacy systems.</p><p>A graph database may have many different infrastructure implementation but they all support graph modeling which interconnect different components with their associations. As we discussed before, such change in data modeling will be an extremely simple and straightforward solution for many daily system scenario with much faster throughput and lesser DevOps requirement.</p><h2 id=references>References</h2><p>[1] An Overview Of Neo4j And The Property Graph Model Berkeley, CS294, Nov 2015 <a href=https://people.eecs.berkeley.edu/~istoica/classes/cs294/15/notes/21-neo4j.pdf>https://people.eecs.berkeley.edu/~istoica/classes/cs294/15/notes/21-neo4j.pdf</a></p><p>[2] several original data sources from talk made by Duen Horng (Polo) Chau (Geogia tech) <a href=www.selectscience.net>www.selectscience.net</a>, <a href=www.phonedog.com>www.phonedog.com</a>, <a href=www.mediabistro.com>www.mediabistro.com</a>, <a href=www.practicalecommerce.com/>www.practicalecommerce.com/</a></p><p>[3] Graphs / Networks Basics, how to build & store graphs, laws, etc. Centrality, and algorithms you should know   Duen Horng (Polo) Chau(Georgia tech)</p><p>[4] Graph databases, 2nd Edition: New opportunities for Connected Data</p><p>[5] R. Nishtala, H. Fugal, S. Grimm, M. Kwiatkowski, H. Lee, H. C.Li, R. McElroy, M. Paleczny, D. Peek, P. Saab, D. Stafford, T. Tung, and V. Venkataramani. Scaling Memcache at Facebook. In Proceedings of the 10th USENIX conference on Networked Systems Design and Implementation, NSDI, 2013.</p><p>[6] Nathan Bronson, Zach Amsden, George Cabrera, Prasad Chakka, Peter Dimov Hui Ding, Jack Ferris, Anthony Giardullo, Sachin Kulkarni, Harry Li, Mark Marchukov Dmitri Petrov, Lovro Puzar, Yee Jiun Song, Venkat Venkataramani  TAO: Facebook&rsquo;s Distributed Data Store for the Social Graph USENIX 2013</p><p>[7] Janus Graph Architecture <a href=https://docs.janusgraph.org/getting-started/architecture/>https://docs.janusgraph.org/getting-started/architecture/</a></p><p>[8] Nebula Graph Architecture — A Bird&rsquo;s View <a href=https://nebula-graph.io/en/posts/nebula-graph-architecture-overview/>https://nebula-graph.io/en/posts/nebula-graph-architecture-overview/</a></p><p>[9] database engine trending <a href=https://db-engines.com/en/ranking_categories>https://db-engines.com/en/ranking_categories</a></p><p>[10] Netflix Content Data Management talk <a href=https://www.slideshare.net/RoopaTangirala/polyglot-persistence-netflix-cde-meetup-90955706#86>https://www.slideshare.net/RoopaTangirala/polyglot-persistence-netflix-cde-meetup-90955706#86</a></p><p>[11] Harnessing the Power of Neo4j for Overhauling Legacy Systems at Adobe <a href=https://neo4j.com/graphconnect-2018/session/overhauling-legacy-systems-adobe>https://neo4j.com/graphconnect-2018/session/overhauling-legacy-systems-adobe</a></p><blockquote><p>Johhan is currently working at Nebula Graph as Software Engineer Intern, researching and implementing large-scale graph query engine and storage engine components. As a contributor of Nebula Graph database, he aims to contribute openly available learning resources about databases, distributed systems and AI through blogs.</p></blockquote><h2 id=you-might-also-like>You might also like</h2><ol><li><a href=https://nebula-graph.io/en/posts/nebula-graph-architecture-overview/>Nebula Graph Architecture — A Bird’s View</a></li><li><a href=https://nebula-graph.io/en/posts/nebula-graph-storage-engine-overview/>An Introduction to Nebula Graph&rsquo;s Storage Engine</a></li><li><a href=https://nebula-graph.io/en/posts/nebula-graph-query-engine-overview/>An Introduction to Nebula Graph’s Query Engine</a></li></ol><blockquote class=star-ads><span>Like what we do ? Star us on GitHub.</span>
<a href=https://github.com/vesoft-inc/nebula>https://github.com/vesoft-inc/nebula</a></blockquote><ul class=blog-footer><li><img src=/images/tag.png>
<a href=/nebula-website/en/tags/graph-database>graph-database</a>
<a href=/nebula-website/en/tags/query-language>query-language</a></li><li class="nebula-share st-btn"><img src=/images/share.png>
<span>Share Post</span><ul class=blog-footer-share-links><li class=st-custom-button data-network=twitter><img alt="twitter-white sharing button" src=https://platform-cdn.sharethis.com/img/twitter-white.svg>
<span class=st-label>Twitter</span></li><li class=st-custom-button data-network=linkedin><img alt="twitter-white sharing button" src=https://platform-cdn.sharethis.com/img/linkedin-white.svg>
<span class=st-label>Linkedin</span></li><li class=st-custom-button data-network=facebook><img alt="twitter-white sharing button" src=https://platform-cdn.sharethis.com/img/facebook-white.svg>
<span class=st-label>Facebook</span></li><li class=st-custom-button data-network=sharethis><img alt="twitter-white sharing button" src=https://platform-cdn.sharethis.com/img/sharethis-white.svg>
<span class=st-label>Others</span></li></ul></li><li onclick="location.href='\/nebula-website\/en\/posts'"><img src=/images/blog.png>
<a href=/nebula-website/en/posts>Back to blog home</a></li><li onclick="location.href='https:\/\/nebula-graph.io/en/posts/index.xml'"><img src=/images/rss.png>
<a onclick="window.open('https:\/\/nebula-graph.io/en/posts/index.xml')" href>RSS</a></li></ul><div id=discourse-comments></div></section><div class=single-side-bar><div class=tags-block><h3><img src=/img/LabelTagIcon.png>Tags</h3><ul class=blog-tags><li class=col-md-12><a href=/nebula-website/en/posts class=active>all</a></li><li><a href=/nebula-website/en/tags/architecture>architecture</a></li><li><a href=/nebula-website/en/tags/community>community</a></li><li><a href=/nebula-website/en/tags/deployment>deployment</a></li><li><a href=/nebula-website/en/tags/dev-log>dev-log</a></li><li><a href=/nebula-website/en/tags/features>features</a></li><li><a href=/nebula-website/en/tags/graph-database class=active>graph-database</a></li><li><a href=/nebula-website/en/tags/performance>performance</a></li><li><a href=/nebula-website/en/tags/query-language class=active>query-language</a></li><li><a href=/nebula-website/en/tags/release-notes>release-notes</a></li><li><a href=/nebula-website/en/tags/system-testing>system-testing</a></li><li><a href=/nebula-website/en/tags/tools>tools</a></li><li><a href=/nebula-website/en/tags/use-cases>use-cases</a></li></ul></div><div class=blog-anchors id=J_Anchor><h3>Contents</h3><nav id=TableOfContents><ul><li><a href=#a-social-network-scenario>A Social Network Scenario</a></li><li><a href=#traditional-ways-to-solve-the-question-posted-above>Traditional Ways to Solve the Question Posted Above</a><ul><li><a href=#data-model-schemes-and-traditional-queries>Data model schemes and traditional queries</a></li><li><a href=#performance-issues-in-traditional-rdbms>Performance issues in traditional RDBMS</a></li><li><a href=#performance-fine-tuning-with-indexing-or-caching-and-why-it-is-not-the-best-practice>Performance fine-tuning with indexing or caching and why it is not the best practice.</a></li></ul></li><li><a href=#the-key-to-the-solution-is-modeling-data-through-graphs>The Key to the Solution is Modeling Data Through Graphs</a><ul><li><a href=#lacking-relationships-is-the-key-failure-of-other-kinds-of-database-modeling-4>Lacking relationships is the key failure of other kinds of database modeling [4]</a></li><li><a href=#nodes-associations-and-graph-modeling>Nodes, associations and graph modeling</a></li></ul></li><li><a href=#why-graph-databases-have-better-performance>Why Graph Databases Have Better Performance</a><ul><li><a href=#neo4j-4>Neo4j [4]</a></li><li><a href=#in-memory-cache>In-memory cache</a></li><li><a href=#janus-graph-7>Janus Graph  [7]</a></li><li><a href=#nebula-graph-8>Nebula Graph [8]</a></li></ul></li><li><a href=#graph-database-is-the-trend-and-that-is-not-just-my-opinion>Graph Database is the Trend and That is Not Just My Opinion</a></li><li><a href=#graph-database-with-more-than-social-network>Graph Database with More Than Social Network</a><ul><li><a href=#netflix-cloud-database-engineering-10>Netflix Cloud Database engineering [10]:</a></li><li><a href=#adobe11>Adobe <strong>[11]</strong></a></li></ul></li><li><a href=#conclusion>Conclusion</a></li><li><a href=#references>References</a></li><li><a href=#you-might-also-like>You might also like</a></li></ul></nav></div></div></div><img onclick="location.href='#top'" class=go-ahead src=/images/up.png></div><footer class="container-fluid foot-wrap" name=contact_us><div class=container><div class=row><div class="row-content col-lg-4 col-sm-4 col-xs-4"><h3>Community</h3><ul><li><img src=/img/github.png>
<a href=https://github.com/vesoft-inc/nebula target=_blank>GitHub</a></li><li><img src=/img/forum.png>
<a href=https://discuss.nebula-graph.io/ target=_blank>Forum</a></li><li><img src=/img/slack.png>
<a href=https://join.slack.com/t/nebulagraph/shared_invite/enQtNjIzMjQ5MzE2OTQ2LTM0MjY0MWFlODg3ZTNjMjg3YWU5ZGY2NDM5MDhmOGU2OWI5ZWZjZDUwNTExMGIxZTk2ZmQxY2Q2MzM1OWJhMmY# target=_blank>Slack</a></li></ul></div><div class="row-content col-lg-4 col-sm-4 col-xs-4"><h3>Follow Us</h3><ul><li><img src=/img/twitter.png>
<a href=https://twitter.com/NebulaGraph title=Twitter data-toggle=modal target=_blank data-target>Twitter</a></li><li><img src=/img/linkedin.png>
<a href=https://www.linkedin.com/company/vesoft-nebula-graph/ title=LinkedIn data-toggle=modal target=_blank data-target>LinkedIn</a></li><li><img src=/img/youtube.png>
<a href=https://www.youtube.com/channel/UC73V8q795eSEMxDX4Pvdwmw title=YouTube data-toggle=modal target=_blank data-target>YouTube</a></li><li><img src=/img/facebook.png>
<a href=https://www.facebook.com/NebulaGraph/ title=FaceBook data-toggle=modal target=_blank data-target>FaceBook</a></li><li><img src=/img/weibo.png>
<a href=https://weibo.com/nebulagraph title=WeiBo data-toggle=modal target=_blank data-target>WeiBo</a></li><li><img src=/img/gongzhonghao.png>
<a href title="Official Accounts" data-toggle=modal target=_blank data-target=#myGongzhonghaoModal>Official Accounts</a></li></ul></div><div class="contactus row-content col-lg-4 col-sm-4 col-xs-4"><h3>Contact Us</h3><ul><li><img src=/img/iphone.png>
<a href data-toggle=modal target=_blank data-target>(+86) 0571-28120658</a></li><li><img src=/img/email.png>
<a href=mailto:info@vesoft.com data-toggle=modal target=_blank data-target>info@vesoft.com</a></li><li><img src=/img/weixin.png>
<a href data-toggle=modal target=_blank data-target=#myModal>WeChat</a></li></ul></div></div></div><p align=left style=font-size:16px><img src=/images/VEsoft.png style=margin-right:10px> Copyright &copy;2020 VESoft Inc</p><div class="modal fade" id=myGongzhonghaoModal tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class="modal-body wechat"><img src=/images/gonggonghaoCODE.jpg></div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal>close</button></div></div></div></div><div class="modal fade" id=myModal tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class="modal-body wechat"><img src=/images/wechat.png></div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal>close</button></div></div></div></div></footer></main><div id=J-star-popup class=nebula-star-popup></div><script src=/nebula-website/js/jquery.js></script><script src=/nebula-website/js/bootstrap.min.js></script><script src=/nebula-website/js/jquery.easing.min.js></script><script src=/nebula-website/js/jquery.fittext.js></script><script src=/nebula-website/js/wow.min.js></script><script type=text/javascript src="https://platform-api.sharethis.com/js/sharethis.js#property=5e7c2cc315c7990012ae38bc&product=inline-share-buttons" async></script><script src=/nebula-website/js/creative.js></script><script async defer src=https://buttons.github.io/buttons.js></script><script src=/nebula-website/js/init.js></script><script type=text/javascript>DiscourseEmbed={discourseUrl:'https://discuss.nebula-graph.io/',discourseEmbedUrl:"\/nebula-website\/en\/posts\/review-on-graph-databases\/"};(function(){var d=document.createElement('script');d.type='text/javascript';d.async=true;d.src=DiscourseEmbed.discourseUrl+'javascripts/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(d);})();</script><script src=/nebula-website/js/anchor.js></script></body></html><script>if(!sessionStorage.getItem("popupIsRemove")){$("#top").css("padding-top","98px")}</script>